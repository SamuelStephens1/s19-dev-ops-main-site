---
import MainLayout from './MainLayout.astro';

interface Props {
  title: string;
  description: string;
  pubDate: Date | string;
  heroImage?: string;
  author?: string;
  tags?: string[];
}

const { title, description, pubDate, heroImage, author = 'Signal DevOps', tags = [] } = Astro.props;
---

<MainLayout {title} {description}>
  <article>
    <!-- Header -->
    <header style="padding:3rem 1rem;background:#0A2D60;color:#fff;">
      <div style="max-width:900px;margin:0 auto;">
        <a href="/blog" style="color:#fff;text-decoration:underline;opacity:.9;">← Back to Blog</a>
        <h1 style="margin:.5rem 0 0 0;font-weight:800;font-size:2.1rem;">{title}</h1>
        <p style="opacity:.95;margin:.5rem 0 0 0;">{description}</p>
        <div style="opacity:.85;margin-top:.75rem;font-size:.95rem;">
          <time datetime={new Date(pubDate).toISOString()}>
            {new Date(pubDate).toLocaleDateString(undefined, { year:'numeric', month:'long', day:'numeric' })}
          </time>
          {' · '}
          <span>{author}</span>
        </div>
      </div>
    </header>

    {heroImage && (
      <div style="background:#0b1b36;">
        <img src={heroImage} alt={title} style="width:100%;height:360px;object-fit:cover;display:block;" />
      </div>
    )}

    <!-- Content -->
    <section style="padding:2rem 1rem;background:#fff;">
      <div style="max-width:900px;margin:0 auto;">
        <slot />
        {tags.length ? (
          <div style="margin-top:2rem;display:flex;flex-wrap:wrap;gap:.5rem;">
            {tags.map((t) => (
              <span style="font-size:.8rem;background:#f1f5f9;border:1px solid #e2e8f0;color:#0A2D60;
                           padding:.2rem .6rem;border-radius:9999px;">#{t}</span>
            ))}
          </div>
        ) : null}
      </div>
    </section>
  </article>
</MainLayout>
