---
import HeaderLink from './HeaderLink.astro';
const SITE_TITLE = 'Signal Development Operations LLC';
---

<!-- MAIN NAV (logo left, links centered) -->
<header class="main-nav">
  <div class="container">
    <div class="logo">
      <a href="/">
        <img src="/logo.png" alt={SITE_TITLE + ' logo'} />
      </a>
    </div>
    <div class="internal-links">
      <HeaderLink href="/">Home</HeaderLink>
      <HeaderLink href="/services">Services</HeaderLink>
      <HeaderLink href="/resources">Resources</HeaderLink>
      <HeaderLink href="/about">About</HeaderLink>
      <HeaderLink href="/blog">Blog</HeaderLink>
    </div>
  </div>
</header>

<!-- SCROLL-ONLY CTA -->
<div class="scroll-cta">
  <a
    href="https://calendly.com/signaldevops/consultation"
    class="button primary"
    >Schedule a Consultation</a
  >
</div>

<!-- Client script to show/hide on scroll -->
<script client:load>
  const cta = document.querySelector('.scroll-cta');
  function toggleCTA() {
    if (window.scrollY > 50) {
      cta.classList.add('visible');
    } else {
      cta.classList.remove('visible');
    }
  }
  window.addEventListener('scroll', toggleCTA);
  // run once in case page loads scrolled
  toggleCTA();
</script>

<style>
  /* Container helper */
  .container {
    max-width: var(--page-max-width);
    margin: 0 auto;
    padding: 0 var(--space-md);
    position: relative; /* for absolute logo */
  }

  /* ========== Main Nav ========== */
  .main-nav {
    background-color: var(--color-primary);
    color: #fff;
  }
  .main-nav .container {
    display: flex;
    align-items: center;
    justify-content: center; /* center links */
    padding: var(--space-md) 0;
  }
  .main-nav .logo {
    position: absolute;
    left: var(--space-md);
  }
  .main-nav .logo img {
    height: 80px;
    width: auto;
    display: block;
  }
  .main-nav .internal-links {
    display: flex;
    gap: var(--space-lg);
  }
  .main-nav a {
    color: #fff;
    font-weight: 600;
    text-decoration: none;
  }
  .main-nav a:hover {
    color: var(--color-accent);
  }

  /* ========== Scroll-Only CTA ========== */
  .scroll-cta {
    position: fixed;
    top: 0;
    right: var(--space-md);
    opacity: 0;
    transform: translateY(-100%);
    transition: transform 0.3s ease, opacity 0.3s ease;
    z-index: 1001;
  }
  .scroll-cta.visible {
    opacity: 1;
    transform: translateY(var(--space-md));
  }
  .scroll-cta .button.primary {
    background-color: var(--color-accent);
    color: #fff;
  }
  .scroll-cta .button.primary:hover {
    background-color: var(--color-accent-dark);
  }

  /* ========== Responsive ========== */
  @media (max-width: 720px) {
    .main-nav .internal-links {
      display: none;
    }
    .scroll-cta {
      right: var(--space-sm);
    }
  }
</style>
