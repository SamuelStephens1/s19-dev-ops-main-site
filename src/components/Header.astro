---
import styles from './Header.module.css';
import HeaderLink from './HeaderLink.astro';
const SITE_TITLE = 'Signal Development Operations LLC';

// Grab the CSS module class name for use in runtime script
const scrollCtaClass = styles.scrollCta;
---

<!-- MAIN NAV -->
<header class={styles.mainNav}>
  <div class={`${styles.mainNavContainer} container`}>
    <div class={styles.logo}>
      <a href="/">
        <img src="/logo.png" alt={`${SITE_TITLE} logo`} />
      </a>
    </div>
    <nav class={styles.links}>
      <HeaderLink href="/">Home</HeaderLink>
      <HeaderLink href="/services">Services</HeaderLink>
      <HeaderLink href="/resources">Resources</HeaderLink>
      <HeaderLink href="/about">About</HeaderLink>
      <HeaderLink href="/blog">Blog</HeaderLink>
    </nav>
  </div>
</header>

<!-- SCROLL-ONLY CTA -->
<div class={scrollCtaClass}>
  <a href="https://calendly.com/signaldevops/consultation">
    Schedule a Consultation
  </a>
</div>

<!-- show/hide CTA on scroll -->
<script client:load>
  // Note: scrollCtaClass is injected above
  const cta = document.querySelector('.' + scrollCtaClass);
  function toggleCTA() {
    if (window.scrollY > 50) {
      cta.classList.add('visible');
    } else {
      cta.classList.remove('visible');
    }
  }
  window.addEventListener('scroll', toggleCTA);
  toggleCTA();
</script>
